
int count_odd_bits(int n) {
    return (
        ((n & 0x00000001) > 0) + ((n & 0x00000004) > 0) + ((n & 0x00000010) > 0) +
        ((n & 0x00000040) > 0) + ((n & 0x00000100) > 0) + ((n & 0x00000400) > 0) +
        ((n & 0x00001000) > 0) + ((n & 0x00004000) > 0) + ((n & 0x00001000) > 0) +
        ((n & 0x00004000) > 0) + ((n & 0x00010000) > 0) + ((n & 0x00040000) > 0) +
        ((n & 0x00100000) > 0) + ((n & 0x00400000) > 0) + ((n & 0x01000000) > 0) +
        ((n & 0x04000000) > 0) + ((n & 0x10000000) > 0) + ((n & 0x40000000) > 0) 
    );
}

int count_even_bits(int n) {
    return (
        ((n & 0x00000002) > 0) + ((n & 0x00000008) > 0) + ((n & 0x00000020) > 0) +
        ((n & 0x00000080) > 0) + ((n & 0x00000200) > 0) + ((n & 0x00000800) > 0) +
        ((n & 0x00002000) > 0) + ((n & 0x00008000) > 0) + ((n & 0x00002000) > 0) +
        ((n & 0x00008000) > 0) + ((n & 0x00020000) > 0) + ((n & 0x00080000) > 0) +
        ((n & 0x00200000) > 0) + ((n & 0x00800000) > 0) + ((n & 0x02000000) > 0) +
        ((n & 0x08000000) > 0) + ((n & 0x20000000) > 0) + ((n & 0x80000000) > 0) 
    );
}

inline int divby2(int x) {
    return (x & 0x01);
}

int divby3(int x) {
    int n = count_even_bits(x) - count_odd_bits(x);
    switch(n) {
    case 0:
    case 3:
    case 5:
    case 6:
    case 9:
    case 12:
    case 15:
    case 18:
    case 21:
    case 24:
    case 27:
    case 30:
        return 1;
    default:
        return 0;
    }
}
